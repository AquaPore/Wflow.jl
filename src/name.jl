using Setfield

# TODO review and expand public names, use CF where applicable
const paramap = Dict{String,Lens}(
    "nlayers" => @lens(_.vertical.nlayers),
    "y_length" => @lens(_.vertical.yl),
    "x_length" => @lens(_.vertical.xl),
    "river_fraction" => @lens(_.vertical.riverfrac),
    "θₛ" => @lens(_.vertical.θₛ),
    "θᵣ" => @lens(_.vertical.θᵣ),
    "kv₀" => @lens(_.vertical.kv₀),
    "kvfrac" => @lens(_.vertical.kvfrac),
    "m" => @lens(_.vertical.m),
    "hb" => @lens(_.vertical.hb),
    "soilthickness" => @lens(_.vertical.soilthickness),
    "act_thickl" => @lens(_.vertical.act_thickl),
    "sumlayers" => @lens(_.vertical.sumlayers),
    "infiltcappath" => @lens(_.vertical.infiltcappath),
    "infiltcapsoil" => @lens(_.vertical.infiltcapsoil),
    "maxleakage" => @lens(_.vertical.maxleakage),
    "waterfrac" => @lens(_.vertical.waterfrac),
    "pathfrac" => @lens(_.vertical.pathfrac),
    "altitude" => @lens(_.vertical.altitude),
    "rootingdepth" => @lens(_.vertical.rootingdepth),
    "rootdistpar" => @lens(_.vertical.rootdistpar),
    "capscale" => @lens(_.vertical.capscale),
    "et_reftopot" => @lens(_.vertical.et_reftopot),
    "c" => @lens(_.vertical.c),
    "stemflow" => @lens(_.vertical.stemflow),
    "throughfall" => @lens(_.vertical.throughfall),
    "f" => @lens(_.vertical.f),
    "ustorelayerdepth" => @lens(_.vertical.ustorelayerdepth),
    "satwaterdepth" => @lens(_.vertical.satwaterdepth),
    "zi" => @lens(_.vertical.zi),
    "soilwatercapacity" => @lens(_.vertical.soilwatercapacity),
    "canopystorage" => @lens(_.vertical.canopystorage),
    "cmax" => @lens(_.vertical.cmax),
    "canopygapfraction" => @lens(_.vertical.canopygapfraction),
    "e_r" => @lens(_.vertical.e_r),
    "precipitation" => @lens(_.vertical.precipitation),
    "temperature" => @lens(_.vertical.temperature),
    "potential_evaporation" => @lens(_.vertical.potevap),
    "pottrans_soil" => @lens(_.vertical.pottrans_soil),
    "transpiration" => @lens(_.vertical.transpiration),
    "ae_ustore" => @lens(_.vertical.ae_ustore),
    "ae_sat" => @lens(_.vertical.ae_sat),
    "interception" => @lens(_.vertical.interception),
    "soilevap" => @lens(_.vertical.soilevap),
    "actevapsat" => @lens(_.vertical.actevapsat),
    "actevap" => @lens(_.vertical.actevap),
    "runoff_river" => @lens(_.vertical.runoff_river),
    "runoff_land" => @lens(_.vertical.runoff_land),
    "ae_openw_l" => @lens(_.vertical.ae_openw_l),
    "ae_openw_r" => @lens(_.vertical.ae_openw_r),
    "avail_forinfilt" => @lens(_.vertical.avail_forinfilt),
    "actinfilt" => @lens(_.vertical.actinfilt),
    "actinfiltsoil" => @lens(_.vertical.actinfiltsoil),
    "actinfiltpath" => @lens(_.vertical.actinfiltpath),
    "infiltexcess" => @lens(_.vertical.infiltexcess),
    "excesswater" => @lens(_.vertical.excesswater),
    "exfiltsatwater" => @lens(_.vertical.exfiltsatwater),
    "exfiltustore" => @lens(_.vertical.exfiltustore),
    "excesswatersoil" => @lens(_.vertical.excesswatersoil),
    "excesswaterpath" => @lens(_.vertical.excesswaterpath),
    "runoff" => @lens(_.vertical.runoff),
    "vwc" => @lens(_.vertical.vwc),
    "vwc_perc" => @lens(_.vertical.vwc_perc),
    "rootstore" => @lens(_.vertical.rootstore),
    "vwc_root" => @lens(_.vertical.vwc_root),
    "vwc_percroot" => @lens(_.vertical.vwc_percroot),
    "ustoredepth" => @lens(_.vertical.ustoredepth),
    "transfer" => @lens(_.vertical.transfer),
    "capflux" => @lens(_.vertical.capflux),
    "recharge" => @lens(_.vertical.recharge),
    "cfmax" => @lens(_.vertical.cfmax),
    "tt" => @lens(_.vertical.tt),
    "tti" => @lens(_.vertical.tti),
    "ttm" => @lens(_.vertical.ttm),
    "whc" => @lens(_.vertical.whc),
    "w_soil" => @lens(_.vertical.w_soil),
    "cf_soil" => @lens(_.vertical.cf_soil),
    "snow" => @lens(_.vertical.snow),
    "snowwater" => @lens(_.vertical.snowwater),
    "rainfallplusmelt" => @lens(_.vertical.rainfallplusmelt),
    "tsoil" => @lens(_.vertical.tsoil),
    "storage_wood" => @lens(_.vertical.swood),
    "kext" => @lens(_.vertical.kext),
    "leaf_area_index" => @lens(_.vertical.lai),

    # example of dealing with conflicting names
    "specific_leaf" => @lens(_.vertical.sl),
    "slope_land" => @lens(_.lateral.land.sl),
    "slope_river" => @lens(_.lateral.river.sl),

    # SurfaceFlow land
    "β_land" => @lens(_.lateral.land),
    "n_land" => @lens(_.lateral.land),
    "dl_land" => @lens(_.lateral.land),
    "q_land" => @lens(_.lateral.land),
    "q_av_land" => @lens(_.lateral.land),
    "qlat_land" => @lens(_.lateral.land),
    "h_land" => @lens(_.lateral.land),
    "h_av_land" => @lens(_.lateral.land),
    "Δt_land" => @lens(_.lateral.land),
    "width_land" => @lens(_.lateral.land),
    "alpha_term_land" => @lens(_.lateral.land),
    "alpha_pow_land" => @lens(_.lateral.land),
    "α_land" => @lens(_.lateral.land),
    "eps_land" => @lens(_.lateral.land),
    "cel_land" => @lens(_.lateral.land),
    "to_river_land" => @lens(_.lateral.land),
    "rivercells_land" => @lens(_.lateral.land),
    "wb_pit_land" => @lens(_.lateral.land),
    "reservoir_land" => @lens(_.lateral.land),
    "lake_land" => @lens(_.lateral.land),

    # SurfaceFlow river
    "β_river" => @lens(_.lateral.river),
    "n_river" => @lens(_.lateral.river),
    "dl_river" => @lens(_.lateral.river),
    "q_river" => @lens(_.lateral.river),
    "q_av_river" => @lens(_.lateral.river),
    "qlat_river" => @lens(_.lateral.river),
    "h_river" => @lens(_.lateral.river),
    "h_av_river" => @lens(_.lateral.river),
    "Δt_river" => @lens(_.lateral.river),
    "width_river" => @lens(_.lateral.river),
    "alpha_term_river" => @lens(_.lateral.river),
    "alpha_pow_river" => @lens(_.lateral.river),
    "α_river" => @lens(_.lateral.river),
    "eps_river" => @lens(_.lateral.river),
    "cel_river" => @lens(_.lateral.river),
    "to_river_river" => @lens(_.lateral.river),
    "rivercells_river" => @lens(_.lateral.river),
    "wb_pit_river" => @lens(_.lateral.river),
    "reservoir_river" => @lens(_.lateral.river),
    "lake_river" => @lens(_.lateral.river),

    # LateralSSF
    "kh₀" => @lens(_.lateral.subsurface.kh₀),
    "f" => @lens(_.lateral.subsurface.f),
    "θₑ" => @lens(_.lateral.subsurface.θₑ),
    "Δt" => @lens(_.lateral.subsurface.Δt),
    "βₗ" => @lens(_.lateral.subsurface.βₗ),
    "dl" => @lens(_.lateral.subsurface.dl),
    "dw" => @lens(_.lateral.subsurface.dw),
    "zi" => @lens(_.lateral.subsurface.zi),
    "exfiltwater" => @lens(_.lateral.subsurface.exfiltwater),
    "recharge" => @lens(_.lateral.subsurface.recharge),
    "ssf" => @lens(_.lateral.subsurface.ssf),
    "ssfmax" => @lens(_.lateral.subsurface.ssfmax),
    "to_river" => @lens(_.lateral.subsurface.to_river),
    "wb_pit" => @lens(_.lateral.subsurface.wb_pit),

    # SimpleReservoir
    "maxvolume_reservoir" => @lens(_.lateral.river.maxvolume_reservoir),
    "area_reservoir" => @lens(_.lateral.river.area_reservoir),
    "maxrelease_reservoir" => @lens(_.lateral.river.maxrelease_reservoir),
    "demand_reservoir" => @lens(_.lateral.river.demand_reservoir),
    "targetminfrac_reservoir" => @lens(_.lateral.river.targetminfrac_reservoir),
    "targetfullfrac_reservoir" => @lens(_.lateral.river.targetfullfrac_reservoir),
    "volume_reservoir" => @lens(_.lateral.river.volume_reservoir),
    "inflow_reservoir" => @lens(_.lateral.river.inflow_reservoir),
    "outflow_reservoir" => @lens(_.lateral.river.outflow_reservoir),
    "percfull_reservoir" => @lens(_.lateral.river.percfull_reservoir),
    "demandrelease_reservoir" => @lens(_.lateral.river.demandrelease_reservoir),
    "precipitation_reservoir" => @lens(_.lateral.river.precipitation_reservoir),
    "evaporation_reservoir" => @lens(_.lateral.river.evaporation_reservoir),

    # NaturalLake
    "area_lake" => @lens(_.lateral.river.area_lake),
    "threshold_lake" => @lens(_.lateral.river.threshold_lake),
    "storfunc_lake" => @lens(_.lateral.river.storfunc_lake),
    "outflowfunc_lake" => @lens(_.lateral.river.outflowfunc_lake),
    "b_lake" => @lens(_.lateral.river.b_lake),
    "e_lake" => @lens(_.lateral.river.e_lake),
    # "sh_lake" => @lens(_.lateral.river.sh_lake),
    # "hq_lake" => @lens(_.lateral.river.hq_lake),
    "mean_waterlevel_lake" => @lens(_.lateral.river.avg_waterlevel_lake),
    "waterlevel_lake" => @lens(_.lateral.river.waterlevel_lake),
    "inflow_lake" => @lens(_.lateral.river.inflow_lake),
    "storage_lake" => @lens(_.lateral.river.storage_lake),
    "outflow_lake" => @lens(_.lateral.river.outflow_lake),
    "precipitation_lake" => @lens(_.lateral.river.precipitation_lake),
    "evaporation_lake" => @lens(_.lateral.river.evaporation_lake),
)
